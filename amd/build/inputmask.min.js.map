{"version":3,"sources":["../src/inputmask.js"],"names":["define","$","Mask","globals","maskElements","dataMaskAttr","dataMask","watchInterval","watchInputs","keyStrokeCompensation","byPassKeys","translation","pattern","optional","recursive","jMaskGlobals","extend","InputMask","applyDataMask","maskWatchers","HTMLAttributes","input","options","mask","attr","reverse","clearIfNotMatch","selectOnFocus","notSameMaskObject","data","field","maskObject","stringify","JSON","value","val","text","e","prototype","selector","interval","maskFunction","each","clearInterval","setInterval","document","find","masked","getMaskedVal","unmask","remove","removeData","cleanVal","getCleanVal","$selector","filter"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n// jquery.mask.js\n// @version: v1.14.16\n// @author: Igor Escobar\n// Created by Igor Escobar on 2012-03-10. Please report any bug at github.com/igorescobar/jQuery-Mask-Plugin\n// Adapted to Moodle AMD Modules by Willian Mano\n\n/**\n * InputMask js logic.\n *\n * @package    profilefield_masked\n * @copyright  2020 onwards Willian Mano {@link http://conecti.me}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'profilefield_masked/mask'], function($, Mask) {\n    var globals = {\n        maskElements: 'input,td,span,div',\n        dataMaskAttr: '*[data-mask]',\n        dataMask: true,\n        watchInterval: 300,\n        watchInputs: true,\n        keyStrokeCompensation: 10,\n        byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],\n        translation: {\n            '0': {pattern: /\\d/},\n            '9': {pattern: /\\d/, optional: true},\n            '#': {pattern: /\\d/, recursive: true},\n            'A': {pattern: /[a-zA-Z0-9]/},\n            'S': {pattern: /[a-zA-Z]/}\n        }\n    };\n\n    $.jMaskGlobals = $.jMaskGlobals || {};\n\n    globals = $.jMaskGlobals = $.extend(true, {}, globals, $.jMaskGlobals);\n\n    var InputMask = function() {\n        // looking for inputs with data-mask attribute\n        if (globals.dataMask) {\n            this.applyDataMask();\n        }\n    };\n\n    $.maskWatchers = {};\n    var HTMLAttributes = function () {\n            var input = $(this),\n                options = {},\n                prefix = 'data-mask-',\n                mask = input.attr('data-mask');\n\n            if (input.attr(prefix + 'reverse')) {\n                options.reverse = true;\n            }\n\n            if (input.attr(prefix + 'clearifnotmatch')) {\n                options.clearIfNotMatch = true;\n            }\n\n            if (input.attr(prefix + 'selectonfocus') === 'true') {\n                options.selectOnFocus = true;\n            }\n\n            if (notSameMaskObject(input, mask, options)) {\n                return input.data('mask', new Mask(this, mask, options));\n            }\n        },\n        notSameMaskObject = function(field, mask, options) {\n            options = options || {};\n            var maskObject = $(field).data('mask'),\n                stringify = JSON.stringify,\n                value = $(field).val() || $(field).text();\n            try {\n                if (typeof mask === 'function') {\n                    mask = mask(value);\n                }\n                return typeof maskObject !== 'object' ||\n                    stringify(maskObject.options) !== stringify(options) ||\n                    maskObject.mask !== mask;\n            } catch (e) {}\n        };\n\n    InputMask.prototype.mask = function(mask, options) {\n        options = options || {};\n        var selector = this.selector,\n            globals = $.jMaskGlobals,\n            interval = globals.watchInterval,\n            watchInputs = options.watchInputs || globals.watchInputs,\n            maskFunction = function() {\n                if (notSameMaskObject(this, mask, options)) {\n                    return $(this).data('mask', new Mask(this, mask, options));\n                }\n            };\n\n        $(this).each(maskFunction);\n\n        if (selector && selector !== '' && watchInputs) {\n            clearInterval($.maskWatchers[selector]);\n            $.maskWatchers[selector] = setInterval(function(){\n                $(document).find(selector).each(maskFunction);\n            }, interval);\n        }\n        return this;\n    };\n\n    InputMask.prototype.masked = function(val) {\n        return this.data('mask').getMaskedVal(val);\n    };\n\n    InputMask.prototype.unmask = function() {\n        clearInterval($.maskWatchers[this.selector]);\n        delete $.maskWatchers[this.selector];\n        return this.each(function() {\n            var dataMask = $(this).data('mask');\n            if (dataMask) {\n                dataMask.remove().removeData('mask');\n            }\n        });\n    };\n\n    InputMask.prototype.cleanVal = function() {\n        return this.data('mask').getCleanVal();\n    };\n\n    InputMask.prototype.applyDataMask = function(selector) {\n        selector = selector || $.jMaskGlobals.maskElements;\n        var $selector = (selector instanceof $) ? selector : $(selector);\n        $selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);\n    };\n\n    return {\n        'init': function() {\n            return new InputMask();\n        }\n    };\n});"],"file":"inputmask.min.js"}